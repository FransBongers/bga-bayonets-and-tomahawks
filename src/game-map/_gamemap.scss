@use 'sass:math';
@use "sass:map";

#bt_game_map {
  background-image: url("img/map.webp");
  // background-size: 1500px 2318px;
  background-size: calc(var(--leftColumnScale) * 1500px) calc(var(--leftColumnScale) * 2318px);
  background-repeat: no-repeat;
  // grid-column: 1 / span 1;
  // grid-row: span 1;
  position: relative;
  // height: 2318px;
  // width: 1500px;
  height: calc(var(--leftColumnScale) * 2318px);
  width: calc(var(--leftColumnScale) * 1500px);
  // box-shadow: rgb(0 0 0) 2px 2px 8px;
  box-shadow: 1px 1px 5px #000;
  // transform-origin: top left;
  --btMapScale: var(--leftColumnScale);
  --btTokenScale: var(--leftColumnScale);
}

.bt_marker {
  background-image: url('img/markers_2.webp');
  height: calc(var(--btMapScale) * 41px);
  width: calc(var(--btMapScale) * 41px);
  background-size: 800% 600%;
  position: absolute;
  box-sizing: border-box;
  border: calc(var(--btMapScale) * 1px) solid black;
  border-radius: 5%;;
}

#year_marker {
  background-position-x: math.div(6, 7) * 100%;
  background-position-y: math.div(3, 5) * 100%;
}

#round_marker {
  background-position-x: math.div(3, 7) * 100%;
  background-position-y: math.div(3, 5) * 100%;
}

.bt_marker_test {
  background-image: url('img/markers_2.webp');
  height: calc(var(--btMapScale) * 37px);
  width: calc(var(--btMapScale) * 37px);
  background-size: 800% 600%;
  position: absolute;
}

.bt_marker_test[data-marker-type=victory_point] {
  background-position-x: math.div(5, 7) * 100%;
  background-position-y: math.div(3, 5) * 100%;
  // top: 26px;
  // left: 570px;
  top: calc(var(--btMapScale) * 26px);
  left: calc(var(--btMapScale) * 570px);
  border-width: 2px;
  border-style: solid;
  border-color: #f5f5f5 #d8d8d8 #d8d8d8 #f5f5f5;
  box-shadow: 0 0 0 1px #707070;
}

.bt_space {
  position: absolute !important;
  border-radius: 50%;
  // background-color: yellow;
  // width: 52px;
  // height: 52px;
  height: calc(var(--btMapScale) * 52px);
  width: calc(var(--btMapScale) * 52px);
  // opacity: 0.5;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  justify-content: center;
}

.bt_marker_space {
  position: absolute;
  height: calc(var(--btMapScale)* 44px);
  width: calc(var(--btMapScale)* 44px);
  display: flex;
  align-items: center;
  justify-content: center;
  // background-color: yellow;
}

.bt_stack[data-has-unit="true"] {
  min-width: calc(var(--btMapScale) * 52px);

  .bt_token {
    transition: top 500ms, left 500ms;
    // top: 0px;
    // left: 0px;
  }
}

// #bt_location {
//   position: absolute;
//   background-color: yellow;
//   width: 30px;
//   height: 30px;
//   top: 124px;
//   left: 285px;
// }
